name: Deploy artifacts

on:
  push:
    tags:
      - '**'
    # Run for all branches except the following
    branches-ignore:
      - 'master'
      - 'release/**'
      - 'hotfix/**'
      - 'dependabot/**'
  # Allow triggering this in the UI for the 1.16 hotfix releases. Use only for tags.
  # TODO: remove in 1.18
  workflow_dispatch:
  
jobs:
  deploy_artifacts:
    uses: dockstore/workflow-actions/.github/workflows/deploy_artifacts.yaml@main
    with:
      createDockerImage: true
      quayRepository: dockstore-support
    secrets: inherit